{% extends 'base.html.twig' %}

{% block title %}Rechercher un trajet{% endblock %}

{% block body %}

    <!-- bootstrap-->
    <style> 
        .example-wrapper { margin: 1em auto; max-width: 1000px; width: 95%; font: 18px/1.5 sans-serif; }
        .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
    </style>

    <!-- contenu de la page -->
    <div class = "example-wrapper">
        <div>    
            <form action="#" method="GET">
            <label for="from">Ville de départ:</label>
            <input type="text" id="from" name="from">

            <label for="to">Ville d'arrivée:</label>
            <input type="text" id="to" name="to">

            <label for="date">Date:</label>
            <input type="date" id="date" name="date">

            <button type="submit">Rechercher</button>
            </form>
        </div>

        <div>
            <h1>Les résultats : </h1>
            <div>
                {% for trajet in trajets %}
                    <div>
                        {% if trajet.publie != utilisateur_actuel%}
                            {% if trajet.getNbPassagerMax() >  trajet.getNbPassagerCourant()%}
                                {{trajet.demarrea}} --> {{trajet.arrivea}}, Départ le {{trajet.getJourDepartString()}} à {{trajet.getHeureDepartString()}}
                                <button class='btn btn-primary'>
                                    Adopter le trajet
                                </button>
                            {% endif %}
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </div>

    </div>

{% endblock %}